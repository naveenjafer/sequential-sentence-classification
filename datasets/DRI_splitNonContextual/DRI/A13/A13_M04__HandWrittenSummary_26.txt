This paper presents an approach to physically based optimization that is efficient and appears to scale well to more complex characters.We use a standard problem formulationâ€”iteratively adjust character motion to meet animator constraints and minimize an objective function.Our approach is based on restricting the definition of this optimization problem to constraints and objective functions that can be differentiated in time linear in the degrees of freedom of the character.The motivation for this approach is that solution techniques for nonlinear constrained optimization problems (e.g. SQP) typically require either analytical or numerical derivatives.We have found that constraints on physics that can be derived from the aggregate force and torque applied to the character can also be differentiated in linear time.This set includes most common constraints required for physically correct animation, such as conserving linear and angular momentum during flight, ensuring that ground contact forces can be explained by foot placement, constraining torque applied about an axis, and limiting the coefficient of friction at any contact with the environment.

To our knowledge, our paper is the first to present a linear time algorithm for computing the force Jacobian for an articulated character or robot.We were able to create a jumping Luxo and highly dynamic human motions with good success.When the optimization does not converge, we can usually trace it back to the problem setup.Sometimes it is due to overconstrained equations (setup error).But often it is due to overly restrictive parameters, such as friction coefficients, joint limits, poor selection of timings, etc.